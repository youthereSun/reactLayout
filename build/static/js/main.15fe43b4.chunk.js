(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1063:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(7),i=a.n(r),l=(a(450),a(451),a(452),a(421));var s=function(){return o.a.createElement(l.a,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(s,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},180:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return c});var n=a(54),o=a(181),r=a.n(o),i=window.location.origin;r.a.defaults.timeout=5e5,r.a.defaults.baseURL=i;var l=new function e(){Object(n.a)(this,e),this.send=function(e){r()(e).then(function(t){e.callback({type:"success",message:"\u8bf7\u6c42\u6210\u529f",data:t.data})}).catch(function(t){e.callback({type:"error",message:"\u8bf7\u6c42\u6570\u636e\u53d1\u751f\u9519\u8bef"})})},this.get=function(e){return this.send(Object.assign({},e,{method:"GET"}))},this.post=function(e){return this.send(Object.assign({},e,{method:"POST"}))},this.put=function(e){return this.config=e,this.send(Object.assign({},e,{method:"PUT"}))}};function s(e){return l.post({url:"/handler/biHandler/echartGroup",callback:e})}function c(e,t){return l.post({url:"/handler/biHandler/echartGet",data:e,callback:t})}},421:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return x});var n=a(176),o=(a(185),a(13)),r=a(138),i=a(54),l=a(71),s=a(135),c=a(75),u=a(74),d=(a(454),a(139)),h=a(0),m=a.n(h),g=a(260),f=a(422),p=a.n(f),v=a(423),y=a.n(v),b=(a(313),a(424)),E=a(180),k=(a(846),a(433)),C=a(436),S=a(440),w=Object(g.WidthProvider)(g.Responsive),O=d.a.Content,j=d.a.Sider,x=function(t){Object(c.a)(h,t);var a=Object(u.a)(h);function h(t){var n;return Object(i.a)(this,h),(n=a.call(this,t)).onCollapse=function(e){n.setState({collapsed:e})},n.getFromLS=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("32FER23FFDF3435WDAF"))||{}}catch(n){}return a[t]},n.onDrop=function(e,t,a){var o=n.code,i={x:t.x,y:t.y,w:5,h:10,i:(new Date).getTime().toString()};n.setState({widgets:n.state.widgets.concat(Object(r.a)(Object(r.a)({},i),{},{code:o}))},function(){n.generateDOM()})},n.getData=function(){var e=[];return n.state.widgets.forEach(function(t,a){t.code?e.push(n.getConfigByCode(t.code)):e.push(n.fakePromise(t.i))}),Promise.all(e)},n.generateDOM=function(){n.getData().then(function(e){var t=p.a.map(n.state.widgets,function(t,a){var r=t.code?m.a.createElement(y.a,{option:e[a],theme:e[a].otherSetting?e[a].otherSetting.chartTheme?e[a].otherSetting.chartTheme:"":e[a].otherSettings?e[a].otherSettings.chartTheme:"",notMerge:!0,lazyUpdate:!0,style:{width:"100%",height:"100%"}}):m.a.createElement(k.a,{id:t.i,updateText:n.updateText.bind(Object(s.a)(n))});return m.a.createElement("div",{key:t.i,"data-grid":t},m.a.createElement("span",{className:"remove",onClick:n.onRemoveItem.bind(Object(s.a)(n),a)},m.a.createElement(o.a,{style:{color:"red"},type:"close"})),r)});n.setState({doms:t})})},n.saveConfig=function(){n.getFromLS("layouts"),n.state.themeColor},n.state={widgets:[],collapsed:!1,doms:null,themeColor:"#fff"},n}return Object(l.a)(h,[{key:"componentDidMount",value:function(){this.saveToLS("layouts",[])}},{key:"componentWillUnmount",value:function(){this.saveToLS("layouts",[])}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.collapsed!==t.collapsed||(this.state.doms!==t.doms||this.state.themeColor!==t.themeColor)}},{key:"saveToLS",value:function(t,a){e.localStorage&&e.localStorage.setItem("32FER23FFDF3435WDAF",JSON.stringify(Object(n.a)({},t,a)))}},{key:"onRemoveItem",value:function(e){var t=this;this.setState({widgets:this.state.widgets.filter(function(t,a){return a!=e})},function(){t.generateDOM()})}},{key:"onLayoutChange",value:function(e,t){for(var a=[],n=0;n<this.state.widgets.length;n++)for(var o=0;o<t.lg.length;o++)this.state.widgets[n].i!==t.lg[o].i||a.push(Object(r.a)(Object(r.a)({},this.state.widgets[n]),t.lg[o]));this.saveToLS("layouts",a)}},{key:"updateCode",value:function(e){this.code=e}},{key:"updateText",value:function(e,t){var a=this.state.widgets.map(function(a){return a.i===e&&(a.text=t),a});this.setState({widgets:a})}},{key:"fakePromise",value:function(e){return Promise.resolve(e)}},{key:"applyTheme",value:function(e){this.setState({themeColor:e})}},{key:"getConfigByCode",value:function(e){var t={code:e};return new Promise(function(e,a){Object(E.b)(t,function(t){t.data?e(JSON.parse(t.data.config)):a()})})}},{key:"render",value:function(){return m.a.createElement(d.a,{style:{height:"100vh"}},m.a.createElement(j,{width:300,collapsedWidth:0,collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},m.a.createElement(S.Scrollbars,null,m.a.createElement(b.a,{saveConfig:this.saveConfig,getConfigByCode:this.updateCode.bind(this)}))),m.a.createElement(d.a,null,m.a.createElement(O,null,m.a.createElement("div",{style:{height:"100vh"}},m.a.createElement(C.a,{emitColor:this.applyTheme.bind(this)}),m.a.createElement(w,Object.assign({style:{background:this.state.themeColor,height:"100vh"},useCSSTransforms:!0},this.props,{onLayoutChange:this.onLayoutChange.bind(this),onDrop:this.onDrop,isDroppable:!0}),this.state.doms)))))}}]),h}(m.a.Component);x.defaultProps={cols:{lg:18,md:10,sm:6,xs:4,xxs:2},rowHeight:20,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0}}}).call(this,a(60))},424:function(e,t,a){"use strict";a(357);var n=a(137),o=(a(185),a(13)),r=(a(772),a(183)),i=a(54),l=a(71),s=a(75),c=a(74),u=(a(774),a(182)),d=a(0),h=a.n(d),m=(a(777),a(180)),g=u.a.SubMenu,f=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).state={charts:{},renderedDom:{}},n}return Object(l.a)(a,[{key:"toggleLoading",value:function(e){e?r.a.loading({content:"fetching data...",key:"updatable"}):r.a.success({content:"Loaded!",key:"updatable"})}},{key:"componentDidMount",value:function(){var e=this;this.toggleLoading(!0),Object(m.a)(function(t){if(t.data){e.toggleLoading(!1);for(var a=t.data,n=Object.keys(a),o={},i=0;i<n.length;i++)o[n[i]]=a[n[i]].map(function(t,a){return h.a.createElement("div",{key:t.code,className:"droppable-element chartImgItem",draggable:!0,unselectable:"on",onMouseDown:e.emitCode.bind(e,t.code)},h.a.createElement("p",{className:"chartTitle"},t.title),h.a.createElement("img",{className:"chartCover",src:p(t.file_code)}))});e.setState({charts:t.data,renderedDom:o})}else r.a.error(t.message)})}},{key:"emitCode",value:function(e){this.props.getConfigByCode(e)}},{key:"render",value:function(){var e=this,t=[{key:"line",title:"\u6298\u7ebf\u56fe"},{key:"pie",title:"\u997c\u72b6\u56fe"},{key:"map",title:"\u5730\u56fe"},{key:"bar",title:"\u67f1\u72b6\u56fe"},{key:"gauge",title:"\u4eea\u8868\u76d8"},{key:"progressbar",title:"\u8fdb\u5ea6\u6761"},{key:"dynamicMap",title:"\u52a8\u6001\u5730\u56fe"}].map(function(t,a){return h.a.createElement(g,{key:t.key,title:t.title},h.a.createElement("div",{className:"chartImgContainer"},e.state.renderedDom[t.key]))});return h.a.createElement(u.a,{theme:"dark",defaultSelectedKeys:["sub1"],mode:"inline"},h.a.createElement(g,{key:"sub1",title:h.a.createElement("span",null,h.a.createElement(o.a,{type:"line-chart"}),h.a.createElement("span",null,"Chart"))},t),h.a.createElement(g,{key:"sub2",title:h.a.createElement("span",null,h.a.createElement(o.a,{type:"html5"}),h.a.createElement("span",null,"Html"))},h.a.createElement("div",{className:"chartImgContainer"},h.a.createElement("div",{className:"droppable-element chartImgItem",draggable:!0,unselectable:"on",onMouseDown:this.emitCode.bind(this,void 0)},h.a.createElement("p",{className:"chartTitle"},"DIV")))),h.a.createElement(g,{key:"sub3",title:h.a.createElement("span",null,h.a.createElement(o.a,{type:"setting"}),h.a.createElement("span",null,"\u8bbe\u7f6e"))},h.a.createElement(u.a.Item,{key:"1"},h.a.createElement(n.a,{onClick:this.props.saveConfig,type:"primary",block:!0},"\u4fdd\u5b58\u914d\u7f6e"))))}}]),a}(d.Component);function p(e){return"data:image/png;base64,"+e}t.a=f},433:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(54),o=a(71),r=a(75),i=a(74),l=(a(870),a(442)),s=a(0),c=a.n(s),u=(a(872),l.a.Search),d=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={isEdit:!1,defaultValue:"\u70b9\u51fb\u8fd9\u91cc\u4fee\u6539\u5185\u5bb9"},o}return Object(o.a)(a,[{key:"toggleIsEdit",value:function(e,t){var a=this;t&&this.setState({isEdit:e,defaultValue:t},function(){a.props.updateText(a.props.id,a.state.defaultValue)})}},{key:"render",value:function(){var e=this,t=c.a.createElement(u,{placeholder:"input search text",enterButton:"\u786e\u8ba4",size:"large",defaultValue:this.state.defaultValue,onSearch:function(t){return e.toggleIsEdit(!1,t)}}),a=c.a.createElement("div",{style:{color:"grey",fontSize:"40px"},onClick:this.toggleIsEdit.bind(this,!0,this.state.defaultValue)},this.state.defaultValue);return c.a.createElement("div",{style:{width:"100%",height:"100%"}},c.a.createElement("div",{className:"flex"},this.state.isEdit?t:a))}}]),a}(c.a.Component)},436:function(e,t,a){"use strict";a.d(t,"a",function(){return g});a(880);var n=a(439),o=(a(185),a(13)),r=a(54),i=a(71),l=a(75),s=a(74),c=(a(1064),a(441)),u=a(0),d=a.n(u),h=a(259),m=c.a.Dragger,g=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={background:"#fff",fileList:[]},e.handleChangeComplete=function(t){e.setState({background:t.hex}),e.props.emitColor(t.hex)},e.beforeUpload=function(t){return e.getBase64(t,function(t){console.log(t);var a="url("+t+")";e.props.emitColor(a)}),!1},e}return Object(i.a)(a,[{key:"getBase64",value:function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}},{key:"render",value:function(){var e=d.a.createElement("div",{style:{textAlign:"center"}},d.a.createElement("div",{style:{padding:"10px 10px"}},d.a.createElement("p",null,"\u7eaf\u8272\u80cc\u666f"),d.a.createElement(h.SketchPicker,{color:this.state.background,onChangeComplete:this.handleChangeComplete})),d.a.createElement("div",null,d.a.createElement("p",{style:{padding:"10px 10px"}},"\u81ea\u5b9a\u4e49\u80cc\u666f"),d.a.createElement(m,{beforeUpload:this.beforeUpload,fileList:this.state.fileList},d.a.createElement("p",{className:"ant-upload-drag-icon"},d.a.createElement(o.a,{type:"inbox"})),d.a.createElement("p",{className:"ant-upload-text"},"\u70b9\u51fb\u6b64\u5904\u6216\u5c06\u56fe\u7247\u62d6\u62fd\u5230\u6b64\u5904\u4e0a\u4f20\u80cc\u666f\u56fe\u7247"))));return d.a.createElement("div",{style:{position:"absolute",top:"10%",right:20,zIndex:999}},d.a.createElement(n.a,{content:e,trigger:"click"},d.a.createElement("i",{style:{fontSize:"30px",color:"#001529",cursor:"pointer"},className:"iconfont icon-theme"})))}}]),a}(d.a.Component)},445:function(e,t,a){e.exports=a(1063)},450:function(e,t,a){},451:function(e,t,a){},452:function(e,t,a){},777:function(e,t,a){},846:function(e,t,a){"use strict";a(847),a(848),a(849),a(850),a(851),a(852),a(853),a(854),a(855),a(856),a(857),a(858),a(859),a(860),a(861),a(862),a(863),a(864),a(865),a(866),a(867),a(868),a(869);var n=a(17),o=a.n(n),r=a(429),i=a(430),l=a(431),s=a(432);o.a.registerMap("china",r),o.a.registerMap("my",i),o.a.registerMap("contour",l),o.a.registerMap("world",s)},872:function(e,t,a){}},[[445,1,2]]]);